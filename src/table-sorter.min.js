function tableSorter(t){const e="vts-styles";return{sortOrders:[],init(){!function(){if(document.getElementById(e))return;const t=document.createElement("style");t.id=e,t.textContent="\nth.sortable {\n    cursor: pointer;\n    user-select: none;\n    position: relative;\n}\nth.sortable svg {\n    width: 0.8em;\n    height: 0.8em;\n    position: relative;\n    margin: 0.2em;\n    top: 0.2em;\n    transform: translateY(-50%);\n    opacity: 0.3;\n    transition: opacity 0.2s ease;\n}\nth.sortable.sort-active svg { opacity: 1; }\nth.sortable svg.desc { transform: translateY(-50%) rotate(180deg); }\n",document.head.appendChild(t)}();const s=localStorage.getItem("tableSortOrders");s&&(this.sortOrders=JSON.parse(s),this.applySort(),this.updateHeaderClasses());document.getElementById(t).querySelectorAll("th.sortable").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation();const s=parseInt(t.dataset.sortBy);this.sort(s,e)})})},sort(t,e){const s=this.sortOrders.findIndex(e=>e.index===t);e.shiftKey?-1===s?this.sortOrders.push({index:t,asc:!0}):this.sortOrders[s].asc=!this.sortOrders[s].asc:-1!==s&&1===this.sortOrders.length&&this.sortOrders[0].index===t?this.sortOrders[0].asc=!this.sortOrders[0].asc:this.sortOrders=[{index:t,asc:!0}],this.applySort(),this.updateHeaderClasses(),localStorage.setItem("tableSortOrders",JSON.stringify(this.sortOrders))},applySort(){const e=document.getElementById(t),s=Array.from(e.tBodies[0].rows);s.sort((t,e)=>{for(const{index:s,asc:r}of this.sortOrders){const o=t.cells[s].textContent.trim(),a=e.cells[s].textContent.trim(),n=parseFloat(o),i=parseFloat(a);let d=!isNaN(n)&&!isNaN(i)?n-i:o.localeCompare(a);if(0!==d)return r?d:-d}return 0}),s.forEach(t=>e.tBodies[0].appendChild(t))},updateHeaderClasses(){document.querySelectorAll(`#${t} th.sortable`).forEach(t=>{const e=parseInt(t.dataset.sortBy),s=t.querySelector("svg");t.classList.remove("sort-active"),s?.classList.remove("desc");const r=this.sortOrders.find(t=>t.index===e);r&&(t.classList.add("sort-active"),r.asc||s?.classList.add("desc"))})}}}